<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="UTF-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" as="style" crossorigin="anonymous" />
      <link rel="stylesheet" href="./style.css" />
      <title>Get Coins</title>
   </head>
   <body>
      <main class="p-5">
         <div class="container">
            <div class="main-row">
               <h3>Get Coins</h3>
               <div class="userName">
                  <label for="#">User name</label>
                  <input type="text" name="text" placeholder="Enetr your name" id="usernameInput" />
               </div>
               <div class="recharge">
                  <p>Recharge: <span>Save around 25% with a lower third-party service fee</span></p>
               </div>
               <div class="d-flex flex-wrap coin-box-row row" id="coinBoxes">
                  <div class="col-md-3">
                     <div class="coin-box">
                        <div class="d-flex coin-details">
                           <img src="./free_icon_1.svg" alt="" />
                           <h2 id="price">70</h2>
                        </div>
                        <span class="small-title">$ 0.75</span>
                     </div>
                  </div>
                  <div class="col-md-3">
                     <div class="coin-box">
                        <div class="d-flex coin-details">
                           <img src="./free_icon_1.svg" alt="" />
                           <h2 id="price">350</h2>
                        </div>
                        <span class="small-title">$ 3.75</span>
                     </div>
                  </div>
                  <div class="col-md-3">
                     <div class="coin-box">
                        <div class="d-flex coin-details">
                           <img src="./free_icon_1.svg" alt="" />
                           <h2 id="price">700</h2>
                        </div>
                        <span class="small-title">$ 7.5</span>
                     </div>
                  </div>
                  <div class="col-md-3">
                     <div class="coin-box">
                        <div class="d-flex coin-details">
                           <img src="./free_icon_1.svg" alt="" />
                           <h2 id="price">1400</h2>
                        </div>
                        <span class="small-title">$ 15</span>
                     </div>
                  </div>
                  <div class="col-md-3">
                     <div class="coin-box">
                        <div class="d-flex coin-details">
                           <img src="./free_icon_1.svg" alt="" />
                           <h2 id="price">3500</h2>
                        </div>
                        <span class="small-title">$ 37.5</span>
                     </div>
                  </div>
                  <div class="col-md-3">
                     <div class="coin-box">
                        <div class="d-flex coin-details">
                           <img src="./free_icon_1.svg" alt="" />
                           <h2 id="price">7000</h2>
                        </div>
                        <span class="small-title">$ 75</span>
                     </div>
                  </div>
                  <div class="col-md-3">
                     <div class="coin-box">
                        <div class="d-flex coin-details">
                           <img src="./free_icon_1.svg" alt="" />
                           <h2 id="price">17500</h2>
                        </div>
                        <span class="small-title">$ 187.5</span>
                     </div>
                  </div>
                  <div class="col-md-3">
                     <div class="coin-box" id="customInputButton">
                        <div class="d-flex coin-details">
                           <img src="./free_icon_1.svg" alt="" />
                           <h2>Custom</h2>
                        </div>
                        <span class="small-title">Large Number suported</span>
                     </div>
                     <div id="customInputContainer" class="coin-box" style="display: none">
                        <div class="d-flex gap-2 align-items-center justify-content-center">
                           <img src="./free_icon_1.svg" alt="" />

                           <input id="customInput" type="number" />
                        </div>
                        <div id="errorMessage" style="color: red"></div>
                     </div>
                  </div>
               </div>
               <div class="total-box">
                  <p>Total:</p>
                  <span id="totalAmount">$0</span>
               </div>
               <div class="recharge-btn">
                  <button disabled id="rechargeButton" type="button" data-bs-toggle="modal" data-bs-target="#exampleModal">Recharge</button>
               </div>
               <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                  <div class="modal-dialog modal-dialog-centered">
                     <div class="modal-content">
                        <div class="modal-header">
                           <div>
                              <h5 class="modal-title" id="exampleModalLabel">Order Summary</h5>
                              <span>
                                 <svg
                                    version="1.1"
                                    id="Icons"
                                    xmlns="http://www.w3.org/2000/svg"
                                    xmlns:xlink="http://www.w3.org/1999/xlink"
                                    width="16"
                                    x="0px"
                                    y="0px"
                                    viewBox="0 0 32 32"
                                    style="enable-background: new 0 0 32 32"
                                    xml:space="preserve"
                                 >
                                    <style type="text/css">
                                       .st0 {
                                          fill: none;
                                          stroke: #000000;
                                          stroke-width: 2;
                                          stroke-linecap: round;
                                          stroke-linejoin: round;
                                          stroke-miterlimit: 10;
                                       }
                                       .st1 {
                                          fill: none;
                                          stroke: #000000;
                                          stroke-width: 2;
                                          stroke-linejoin: round;
                                          stroke-miterlimit: 10;
                                       }
                                    </style>
                                    <path
                                       class="st0"
                                       d="M25,6.7c-3.4,0-6.6-1.4-9-3.7c-2.4,2.3-5.6,3.7-9,3.7C5.6,6.7,4.3,6.4,3,6c0,14,5.5,19.6,13,23
                                       c7.5-3.4,13-9,13-23C27.7,6.4,26.4,6.7,25,6.7z"
                                       id="id_101"
                                       style="stroke: rgb(11, 138, 138)"
                                    ></path>
                                    <polyline class="st0" points="12,16 15,19 21,13 " id="id_102" style="stroke: rgb(11, 138, 138)"></polyline>
                                 </svg>
                                 You are into privet and secure</span
                              >
                           </div>
                           <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                           <div class="modal-body-box">
                              <h3>Amount</h3>
                              <span id="modalUserName">User Name</span>
                           </div>
                           <div class="modal-body-box flex-column">
                              <div class="d-flex justify-content-between align-items-center">
                                 <h3>Total</h3>
                                 <span id="modalTotalPrice">Total Price</span>
                              </div>
                              <div class="d-flex justify-content-between align-items-center">
                                 <span id="modalTotalCoin">Total Coin</span>
                                 <span id="modalTotalPrice2">Total price</span>
                              </div>
                           </div>
                           <form>
                              <div class="paymentMethods">
                                 <h3>Payment Methods</h3>
                                 <label class="paymentMethods-box" for="visa">
                                    <div class="d-flex align-items-center gap-3">
                                       <input type="radio" name="paymentMethod" id="visa" />
                                       <span>
                                          <img src="" alt="" />
                                          <span>**** **** **** 9929</span>
                                       </span>
                                    </div>
                                    <svg xmlns="http://www.w3.org/2000/svg" width="20" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                                       <path
                                          stroke-linecap="round"
                                          stroke-linejoin="round"
                                          d="M6.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM12.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM18.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"
                                       />
                                    </svg>
                                 </label>
                                 <label class="paymentMethods-box" for="card">
                                    <div class="d-flex align-items-center gap-3">
                                       <input type="radio" name="paymentMethod" id="card" />
                                       <span>
                                          <span>Add credit or Debit card</span>
                                       </span>
                                    </div>
                                    <div>card images</div>
                                 </label>
                                 <label class="paymentMethods-box" for="paypal">
                                    <div class="d-flex align-items-center gap-3">
                                       <input type="radio" name="paymentMethod" id="paypal" />
                                       <span>
                                          <span>Paypal</span>
                                       </span>
                                    </div>
                                    <div>paypal images</div>
                                 </label>
                              </div>
                           </form>

                           <!-- <div class="paymentMehods">
                              <h3>payment Mehods</h3>
                              <label class="paymentMehods-box" for="visa">
                                 <div class="d-flex align-items-center gap-3">
                                    <input type="radio" name="" id="visa" />
                                    <span>
                                       <img src="" alt="" />
                                       <span>**** **** **** 9929</span>
                                    </span>
                                 </div>
                                 <svg xmlns="http://www.w3.org/2000/svg" width="20" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                                    <path
                                       stroke-linecap="round"
                                       stroke-linejoin="round"
                                       d="M6.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM12.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM18.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"
                                    />
                                 </svg>
                              </label>
                              <label class="paymentMehods-box" for="card">
                                 <div class="d-flex align-items-center gap-3">
                                    <input type="radio" name="" id="card" />
                                    <span>
                                       <span>Add credit or Debit card</span>
                                    </span>
                                 </div>
                                 <div>card images</div>
                              </label>
                              <label class="paymentMehods-box" for="Paypal">
                                 <div class="d-flex align-items-center gap-3">
                                    <input type="radio" name="" id="Paypal" />
                                    <span>
                                       <span>Paypal</span>
                                    </span>
                                 </div>
                                 <div>card images</div>
                              </label>
                           </div> -->
                           <div>
                              <span class="paymentMehods-footer"
                                 >By tapping <strong>Pay now</strong>, you agree to the <strong>Terms of Purchase for Coins</strong> , By using any amounts of Coins within 14 days after tapping
                                 <strong>Pay now</strong>, you acknowledge and confirm that you will no longer be eligble for a refund of order.
                              </span>
                           </div>

                           <div class="modal-lodding-box d-none" id="modal-lodding-box">
                              <div class="modal-lodding-box-icon d-flex justify-content-center align-items-center">
                                 <svg
                                    version="1.1"
                                    id="L5"
                                    xmlns="http://www.w3.org/2000/svg"
                                    xmlns:xlink="http://www.w3.org/1999/xlink"
                                    x="0px"
                                    y="0px"
                                    viewBox="0 0 100 100"
                                    enable-background="new 0 0 0 0"
                                    xml:space="preserve"
                                    width="60"
                                 >
                                    <circle fill="#fff" stroke="none" cx="6" cy="50" r="6">
                                       <animateTransform attributeName="transform" dur="1s" type="translate" values="0 15 ; 0 -15; 0 15" repeatCount="indefinite" begin="0.1" />
                                    </circle>
                                    <circle fill="#fff" stroke="none" cx="30" cy="50" r="6">
                                       <animateTransform attributeName="transform" dur="1s" type="translate" values="0 10 ; 0 -10; 0 10" repeatCount="indefinite" begin="0.2" />
                                    </circle>
                                    <circle fill="#fff" stroke="none" cx="54" cy="50" r="6">
                                       <animateTransform attributeName="transform" dur="1s" type="translate" values="0 5 ; 0 -5; 0 5" repeatCount="indefinite" begin="0.3" />
                                    </circle>
                                 </svg>
                              </div>
                              <div class="modal-lodding-box-content">
                                 <p>Payment processing please don't close this page</p>
                              </div>
                           </div>
                        </div>
                        <div class="modal-footer" id="payNowBtn">
                           <button>
                              <span id="payNow">Pay now</span>
                              <svg
                                 version="1.1"
                                 id="payNowSvg"
                                 xmlns="http://www.w3.org/2000/svg"
                                 xmlns:xlink="http://www.w3.org/1999/xlink"
                                 x="0px"
                                 y="0px"
                                 viewBox="0 0 100 100"
                                 enable-background="new 0 0 0 0"
                                 xml:space="preserve"
                                 width="30"
                                 class="d-none"
                              >
                                 <path fill="#fff" d="M73,50c0-12.7-10.3-23-23-23S27,37.3,27,50 M30.9,50c0-10.5,8.5-19.1,19.1-19.1S69.1,39.5,69.1,50">
                                    <animateTransform attributeName="transform" attributeType="XML" type="rotate" dur="1s" from="0 50 50" to="360 50 50" repeatCount="indefinite" />
                                 </path>
                              </svg>
                           </button>
                        </div>
                     </div>
                  </div>
               </div>
            </div>
         </div>

         <div class="modal fade" id="exampleModal2" tabindex="-1" aria-labelledby="exampleModalLabel2" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
               <div class="modal-content">
                  <div class="modal-header">
                     <div>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                     </div>
                  </div>
                  <div class="modal-body d-flex flex-column justify-content-center align-items-center text-center">
                     <div class="completed-icon-box">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" width="50">
                           <path stroke-linecap="round" stroke-linejoin="round" d="m4.5 12.75 6 6 9-13.5" />
                        </svg>
                     </div>
                     <div class="completed-content-box">
                        <h3>Purchase completed</h3>
                        <p>You reach <span id="completedTotal"></span> coins . you can use coins to send virtual Gifts</p>
                     </div>
                     <div class="verify-box">
                        <h3>Verify your identity to get channel fee reward and more</h3>
                        <p>Get a one-time payment after reaching and more rewards</p>
                        <a href="#">View deatles</a>
                     </div>
                  </div>
                  <div class="modal-footer">
                     <button type="button " id="exampleModal2Btn">Done</button>
                  </div>
               </div>
            </div>
         </div>

         <div class="mainLoadding d-none" id="mainLoading">
            <div class="visaLoding d-none" id="visaLoading">
               <svg
                  version="1.1"
                  id="L9"
                  xmlns="http://www.w3.org/2000/svg"
                  xmlns:xlink="http://www.w3.org/1999/xlink"
                  x="0px"
                  y="0px"
                  viewBox="0 0 100 100"
                  enable-background="new 0 0 0 0"
                  xml:space="preserve"
                  width="60"
               >
                  <path fill="#111" d="M73,50c0-12.7-10.3-23-23-23S27,37.3,27,50 M30.9,50c0-10.5,8.5-19.1,19.1-19.1S69.1,39.5,69.1,50">
                     <animateTransform attributeName="transform" attributeType="XML" type="rotate" dur="1s" from="0 50 50" to="360 50 50" repeatCount="indefinite" />
                  </path>
               </svg>
               <div>
                  <h2>VISA</h2>
                  <button>Secure</button>
               </div>
            </div>
            <div class="paymentProsesing d-none" id="paymentProcessing">
               <svg
                  version="1.1"
                  id="L9"
                  xmlns="http://www.w3.org/2000/svg"
                  xmlns:xlink="http://www.w3.org/1999/xlink"
                  x="0px"
                  y="0px"
                  viewBox="0 0 100 100"
                  enable-background="new 0 0 0 0"
                  xml:space="preserve"
                  width="60"
               >
                  <path fill="#111" d="M73,50c0-12.7-10.3-23-23-23S27,37.3,27,50 M30.9,50c0-10.5,8.5-19.1,19.1-19.1S69.1,39.5,69.1,50">
                     <animateTransform attributeName="transform" attributeType="XML" type="rotate" dur="1s" from="0 50 50" to="360 50 50" repeatCount="indefinite" />
                  </path>
               </svg>
               <h3>Processing your payment</h3>
               <p>This cloud take a few second</p>
            </div>
         </div>
      </main>

      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
      <script
         src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
         integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
         crossorigin="anonymous"
      ></script>
      <script>
         const usernameInput = document.getElementById("usernameInput");
         const customInputContainer = document.getElementById("customInputContainer");
         const customInput = document.getElementById("customInput");
         const coinBoxes = document.querySelectorAll(".coin-box");
         const totalAmount = document.getElementById("totalAmount");
         const rechargeButton = document.getElementById("rechargeButton");
         const errorMessage = document.getElementById("errorMessage");

         // Object to store values
         let userData = {
            username: "",
            coins: 0,
            price: 0,
         };

         // Function to update total amount
         function updateTotalAmount(amount) {
            if (amount) {
               const clacAmount = amount / 93.33333333;
               userData.price = clacAmount.toFixed(2);
               totalAmount.textContent = "$" + clacAmount.toFixed(2);
            } else {
               totalAmount.textContent = "$" + 0;
            }
         }

         // Function to enable/disable recharge button
         function toggleRechargeButton() {
            rechargeButton.disabled = !(userData.username && userData.coins);
         }

         // Event listener for username input
         usernameInput.addEventListener("input", function () {
            userData.username = this.value.trim();
            toggleRechargeButton();
         });

         // Event listener for coin box clicks
         coinBoxes.forEach(function (coinBox) {
            coinBox.addEventListener("click", function (e) {
               const value = parseInt(this.querySelector("h2").textContent);
               // const numericValue = parseFloat(value.replace(/[^\d.]/g, ""));
               userData.coins = Number(value);
               updateTotalAmount(userData.coins);
               toggleRechargeButton();
            });
         });

         // Event listener for custom input
         customInput.addEventListener("input", function () {
            const customAmount = parseFloat(this.value);
            if (customAmount < 30) {
               errorMessage.textContent = "Minimum $30";
               rechargeButton.disabled = true;
            } else {
               userData.coins = customAmount;
               updateTotalAmount(userData.coins);
               toggleRechargeButton();

               errorMessage.textContent = "";
            }
         });

         // Event listener for custom button click
         document.getElementById("customInputButton").addEventListener("click", function () {
            document.getElementById("customInputButton").style.display = "none";

            customInputContainer.style.display = "flex";
            customInput.focus();
         });

         // Event listener for recharge button click
         rechargeButton.addEventListener("click", function () {
            // Perform recharge action with userData object
            console.log("Recharge data:", userData);
            // Reset userData after recharge
            // userData = {
            //    username: "",
            //    coins: 0,
            // };
            // usernameInput.value = "";
            // updateTotalAmount(0);
            updateModalData();
            toggleRechargeButton();
         });
         function updateModalData() {
            let modalUserName = document.getElementById("modalUserName");
            let modalTotalPrice = document.getElementById("modalTotalPrice");
            let modalTotalPrice2 = document.getElementById("modalTotalPrice2");
            let completedTotal = document.getElementById("completedTotal");
            let modalTotalCoin = document.getElementById("modalTotalCoin");
            modalUserName.textContent = userData.username;
            modalTotalCoin.textContent = userData.coins + " coins";
            completedTotal.textContent = userData.coins + " coins";

            modalTotalPrice.textContent = "$ " + userData.price;
            modalTotalPrice2.textContent = "$ " + userData.price;
         }

         document.addEventListener("DOMContentLoaded", function () {
            const payNowBtn = document.getElementById("payNowBtn");
            const mainLoading = document.getElementById("mainLoading");
            const visaLoading = document.getElementById("visaLoading");
            const paymentProcessing = document.getElementById("paymentProcessing");
            const modalLoddingBox = document.getElementById("modal-lodding-box");
            const payNow = document.getElementById("payNow");

            const payNowSvg = document.getElementById("payNowSvg");

            payNowBtn.addEventListener("click", function () {
               modalLoddingBox.classList.remove("d-none");
               payNow.classList.add("d-none");
               payNowSvg.classList.remove("d-none");

               setTimeout(function () {
                  setTimeout(function () {
                     mainLoading.classList.remove("d-none");
                     visaLoading.classList.remove("d-none");
                     $("#exampleModal").modal("hide");

                     setTimeout(function () {
                        visaLoading.classList.add("d-none");
                        paymentProcessing.classList.remove("d-none");

                        setTimeout(function () {
                           paymentProcessing.classList.add("d-none");
                           mainLoading.classList.add("d-none");
                           modalLoddingBox.classList.add("d-none");
                           $("#exampleModal2").modal("show");
                        }, 3000); // Hide paymentProcessing after 3 seconds
                     }, 3000); // Hide visaLoading after 3 seconds
                  }, 0); // Show mainLoading immediately
               }, 5000); // Show modal-lodding-box after 5 seconds
            });
         });

         const exampleModal2Btn = document.getElementById("exampleModal2Btn");
         exampleModal2Btn.addEventListener("click", function () {
            console.log("ww");
            $("#exampleModal2").modal("hide");
         });
      </script>
   </body>
</html>
